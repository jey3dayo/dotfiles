export MISE_DATA_DIR=$HOME/.mise
export MISE_CACHE_DIR=$MISE_DATA_DIR/cache

if ! command -v mise >/dev/null 2>&1; then
  return
fi

# Immediate mise activation for tool availability
# mise activate must run immediately to ensure mise-managed tools are available
eval "$(mise activate zsh)"

# Force initial hook execution to set up PATH correctly
# This ensures mise tools are available immediately on shell startup
if (( $+functions[_mise_hook] )); then
  _mise_hook
fi

# Defer only the completion for startup performance
if (( $+functions[zsh-defer] )); then
  zsh-defer -t 10 eval "$(mise complete -s zsh)"
else
  eval "$(mise complete -s zsh)"
fi

### Do not edit. This was autogenerated by 'mise direnv' ###
use_mise() {
  direnv_load mise direnv exec
}
