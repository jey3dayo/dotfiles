export MISE_DATA_DIR=$HOME/.mise
export MISE_CACHE_DIR=$MISE_DATA_DIR/cache

if ! command -v mise >/dev/null 2>&1; then
  return
fi

# Ultra-optimized mise loading - defer everything except critical env vars
# Only set MISE_DATA_DIR immediately, defer all other initialization
if (( $+functions[zsh-defer] )); then
  # Defer all mise initialization for maximum startup speed
  zsh-defer -t 1 eval "$(mise activate zsh)"
  zsh-defer -t 1 eval "$(mise hook-env -s zsh)" 
  zsh-defer -t 3 eval "$(mise complete -s zsh)"
else
  # Fallback for immediate loading when zsh-defer unavailable
  eval "$(mise activate zsh)"
  eval "$(mise hook-env -s zsh)"
  eval "$(mise complete -s zsh)"
fi

### Do not edit. This was autogenerated by 'mise direnv' ###
use_mise() {
  direnv_load mise direnv exec
}
