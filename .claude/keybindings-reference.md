# 🎯 Neovim Custom Keybindings Reference

**生成日**: 2025-07-07
**対象設定**: Neovim Lua設定 (.vim/lua/\*)

## 📋 目次

1. [基本ナビゲーション](#基本ナビゲーション)
2. [LSP機能](#-lsp機能)
3. [Git操作](#-git操作)
4. [ファイル管理](#️-ファイル管理)
5. [フォーマット](#-フォーマット)
6. [タブ管理](#-タブ管理)
7. [ヤンク・コピー](#-ヤンクコピー)
8. [設定・管理](#-設定管理)
9. [テキスト操作](#️-テキスト操作)
10. [補完機能](#-補完機能)

---

## 🧭 基本ナビゲーション

### ウィンドウ管理

| キー         | モード | 機能               | 説明                          |
| ------------ | ------ | ------------------ | ----------------------------- |
| `<C-d>`      | n      | Buffer閉じる       | 現在のバッファを閉じる        |
| `<Tab>`      | n      | ウィンドウ切り替え | 次のウィンドウに移動          |
| `<Esc><Esc>` | n      | ハイライト切り替え | 検索ハイライト表示/非表示     |
| `<leader>z`  | n      | ズーム切り替え     | ウィンドウズーム（mini.misc） |

### 高速ジャンプ (Flash.nvim)

| キー    | モード | 機能              | 説明                     |
| ------- | ------ | ----------------- | ------------------------ |
| `s`     | n,x,o  | Flash Jump        | 任意位置への高速ジャンプ |
| `S`     | n,x,o  | Flash Treesitter  | TreeSitter使用ジャンプ   |
| `r`     | o      | Remote Flash      | リモートFlash            |
| `R`     | o,x    | Treesitter Search | TreeSitter検索           |
| `<c-s>` | c      | Flash Toggle      | Flash検索切り替え        |

### 2次元ジャンプ (Mini.jump2d)

| キー   | モード | 機能          | 説明                      |
| ------ | ------ | ------------- | ------------------------- |
| `<CR>` | n,x,o  | 2次元ジャンプ | 任意位置への2次元ジャンプ |

---

## 🔍 LSP機能

### 基本ナビゲーション

| キー    | モード | 機能         | 説明                         |
| ------- | ------ | ------------ | ---------------------------- |
| `<C-j>` | n      | 次の診断     | 次の診断メッセージに移動     |
| `<C-k>` | n      | 前の診断     | 前の診断メッセージに移動     |
| `<C-l>` | n      | 診断フロート | 診断メッセージをフロート表示 |
| `K`     | n      | ホバー情報   | LSPホバー情報表示            |
| `<C-]>` | n      | 定義に移動   | 定義位置に移動               |
| `<C-[>` | n      | 参照検索     | 参照箇所をmini.pickで検索    |

### LSP操作 (`<C-e>` プレフィックス)

| キー     | モード | 機能                 | 説明                       |
| -------- | ------ | -------------------- | -------------------------- |
| `<C-e>a` | n      | コードアクション     | LSPコードアクション        |
| `<C-e>d` | n      | 宣言                 | 宣言位置に移動             |
| `<C-e>i` | n      | 実装                 | 実装位置に移動             |
| `<C-e>t` | n      | 型定義               | 型定義位置に移動           |
| `<C-e>k` | n      | 定義                 | 定義位置に移動             |
| `<C-e>r` | n      | リネーム             | シンボルリネーム           |
| `<C-e>o` | n      | ドキュメントシンボル | ドキュメント内シンボル検索 |

### ワークスペース操作 (`<space>w` プレフィックス)

| キー        | モード | 機能               | 説明                       |
| ----------- | ------ | ------------------ | -------------------------- |
| `<space>wl` | n      | ワークスペース一覧 | ワークスペースフォルダ一覧 |
| `<space>wa` | n      | ワークスペース追加 | ワークスペースフォルダ追加 |
| `<space>wr` | n      | ワークスペース削除 | ワークスペースフォルダ削除 |

### レガシー操作 (`t` プレフィックス)

| キー | モード | 機能   | 説明             |
| ---- | ------ | ------ | ---------------- |
| `tt` | n      | 定義   | 定義位置に移動   |
| `tj` | n      | 参照   | 参照検索         |
| `tk` | n      | 実装   | 実装位置に移動   |
| `tl` | n      | 型定義 | 型定義位置に移動 |

---

## 🗂️ ファイル管理

### Mini.pick ファジーファインダー (`<Leader>f` プレフィックス)

| キー               | モード | 機能                     | 説明                                   |
| ------------------ | ------ | ------------------------ | -------------------------------------- |
| `<Leader>f`        | n      | ファイル検索             | ファイル検索（メイン）                 |
| `<A-p>`            | n      | ファイル検索             | ファイル検索（ショートカット）         |
| `<Leader>Ff`       | n      | ファイル検索             | ファイル検索                           |
| `<Leader>FF`       | n      | バッファディレクトリ検索 | バッファディレクトリ内検索             |
| `<Leader><Leader>` | n      | 前回の検索再開           | 前回のpick操作を再開                   |
| `<Leader>Fg`       | n      | ライブ検索               | ライブgrep検索                         |
| `<Leader>FG`       | n      | 検索                     | パターン入力grep検索                   |
| `<Leader>g`        | n      | ライブ検索               | ライブgrep検索（`<Leader>Fg`と同機能） |
| `<Leader>Fb`       | n      | バッファ検索             | バッファ検索                           |
| `<Leader>Fh`       | n      | ヘルプ検索               | ヘルプ検索                             |
| `<Leader>Fr`       | n      | 最近のファイル           | 最近使用したファイル（スマート）       |
| `<Leader>Fc`       | n      | コマンド検索             | コマンド検索                           |
| `<Leader>Fk`       | n      | キーマップ検索           | キーマップ検索                         |

### Git関連検索

| キー          | モード | 機能                   | 説明                   |
| ------------- | ------ | ---------------------- | ---------------------- |
| `<Leader>Fgc` | n      | Gitコミット            | Gitコミット履歴        |
| `<Leader>Fgf` | n      | Gitファイル            | Git管理ファイル        |
| `<Leader>Fd`  | n      | 診断                   | 診断メッセージ         |
| `<Leader>Fs`  | n      | ドキュメントシンボル   | ドキュメントシンボル   |
| `<Leader>FS`  | n      | ワークスペースシンボル | ワークスペースシンボル |

### ファイルエクスプローラー

| キー        | モード | 機能       | 説明                                        |
| ----------- | ------ | ---------- | ------------------------------------------- |
| `<Leader>e` | n      | ファイラー | mini.files（Git root/バッファディレクトリ） |
| `<Leader>E` | n      | ファイラー | mini.files（バッファディレクトリ）          |

### Mini.files内操作

| キー   | モード | 機能     | 説明                        |
| ------ | ------ | -------- | --------------------------- |
| `s`    | n      | 水平分割 | 水平分割でファイルを開く    |
| `v`    | n      | 垂直分割 | 垂直分割でファイルを開く    |
| `<CR>` | n      | 開く     | ファイル/ディレクトリを開く |
| `o`    | n      | 開く     | ファイル/ディレクトリを開く |

### 特殊検索

| キー         | モード | 機能       | 説明                      |
| ------------ | ------ | ---------- | ------------------------- |
| `<Leader>Fy` | n      | ヤンク履歴 | ヤンク履歴（neoclip）     |
| `<leader>Fn` | n      | 通知履歴   | 通知履歴                  |
| `<leader>Fm` | n      | メッセージ | vimメッセージ選択・ヤンク |

---

## 🎨 フォーマット

### フォーマット操作 (`<C-e>` プレフィックス)

| キー     | モード | 機能                   | 説明                     |
| -------- | ------ | ---------------------- | ------------------------ |
| `<C-e>f` | n      | 自動フォーマット       | 自動選択フォーマット     |
| `<C-e>b` | n      | Biomeフォーマット      | Biomeでフォーマット      |
| `<C-e>p` | n      | Prettierフォーマット   | Prettierでフォーマット   |
| `<C-e>e` | n      | ESLintフォーマット     | ESLintでフォーマット     |
| `<C-e>s` | n      | TypeScriptフォーマット | TypeScriptでフォーマット |

---

## 📑 タブ管理

### タブ操作 (`<C-t>` プレフィックス)

| キー     | モード | 機能       | 説明                   |
| -------- | ------ | ---------- | ---------------------- |
| `<C-t>c` | n      | 新しいタブ | 新しいタブを作成       |
| `<C-t>d` | n      | タブ閉じる | タブを閉じる           |
| `<C-t>o` | n      | タブ分割   | タブを分割             |
| `<C-t>n` | n      | 次のタブ   | 次のタブに移動         |
| `<C-t>p` | n      | 前のタブ   | 前のタブに移動         |
| `gt`     | n      | 次のタブ   | 次のタブに移動（標準） |
| `gT`     | n      | 前のタブ   | 前のタブに移動（標準） |

---

## 📋 ヤンク・コピー

### ヤンク操作 (`Y` プレフィックス)

| キー | モード | 機能             | 説明                         |
| ---- | ------ | ---------------- | ---------------------------- |
| `Yf` | n      | ファイルパス     | 相対ファイルパスをコピー     |
| `Yl` | n      | パス+行番号      | ファイルパス+行番号をコピー  |
| `YF` | n      | 絶対パス         | 絶対ファイルパスをコピー     |
| `Yd` | n      | ディレクトリパス | ディレクトリパスをコピー     |
| `YD` | n      | 相対ディレクトリ | 相対ディレクトリパスをコピー |
| `YY` | n      | バッファ+パス    | バッファ内容+パスをコピー    |

---

## 🔧 設定・管理

### 設定操作 (`<Leader>s` プレフィックス)

| キー         | モード | 機能                   | 説明                         |
| ------------ | ------ | ---------------------- | ---------------------------- |
| `<Leader>sn` | n      | 行番号切り替え         | 行番号表示切り替え           |
| `<Leader>sL` | n      | リストモード切り替え   | リストモード切り替え         |
| `<Leader>sp` | n      | プラグインマネージャー | Lazy.nvim                    |
| `<Leader>sd` | n      | LSPデバッグ            | LSPデバッグ                  |
| `<Leader>sm` | n      | Mason更新              | Mason更新                    |
| `<Leader>st` | n      | TreeSitter更新         | TreeSitter更新               |
| `<Leader>su` | n      | プラグイン更新         | プラグイン更新               |
| `<Leader>so` | n      | init.lua再読み込み     | メイン設定再読み込み         |
| `<Leader>sO` | n      | 現在ファイル再読み込み | 現在の設定ファイル再読み込み |

### セッション管理

| キー         | モード | 機能           | 説明           |
| ------------ | ------ | -------------- | -------------- |
| `<leader>ss` | n      | セッション保存 | セッション保存 |
| `<leader>sr` | n      | セッション復元 | セッション復元 |
| `<leader>sd` | n      | セッション削除 | セッション削除 |
| `<leader>sl` | n      | セッション一覧 | セッション一覧 |

---

## 🎭 Git操作

### メイン操作 (`<C-g>` プレフィックス)

| キー         | モード | 機能             | 説明                |
| ------------ | ------ | ---------------- | ------------------- |
| `<C-g><C-g>` | n      | Neogitステータス | Neogitメイン画面    |
| `<C-g>s`     | n      | Neogitステータス | Neogitメイン画面    |
| `<C-g>c`     | n      | コミット         | Neogitコミット      |
| `<C-g>a`     | n      | ステージ         | Neogit内で's'を使用 |
| `<C-g>b`     | n      | ブランチ         | Neogit内で'b'を使用 |
| `<C-g>l`     | n      | ログ             | Neogit内で'l'を使用 |
| `<C-g>z`     | n      | スタッシュ       | Neogit内で'Z'を使用 |

### Diff・履歴

| キー     | モード | 機能             | 説明          |
| -------- | ------ | ---------------- | ------------- |
| `<C-g>d` | n      | Diffビュー       | DiffviewOpen  |
| `<C-g>D` | n      | Diffビュー閉じる | DiffviewClose |

### Fugitive操作

| キー     | モード | 機能             | 説明                  |
| -------- | ------ | ---------------- | --------------------- |
| `<C-g>a` | n      | ファイル追加     | 現在ファイルをgit add |
| `<C-g>b` | n      | Blame            | git blame             |
| `<C-g>d` | n      | Diff分割         | git diff split        |
| `<C-g>h` | n      | ファイル履歴     | ファイル履歴表示      |
| `<C-g>H` | n      | 現在ファイル履歴 | 現在ファイル履歴表示  |
| `<C-g>g` | n      | Git Grep         | git grep              |
| `<C-g>w` | n      | Git Write        | git write             |

### Git Link

| キー     | モード | 機能            | 説明                              |
| -------- | ------ | --------------- | --------------------------------- |
| `<C-g>y` | n,v    | Gitリンクコピー | Gitリンクをクリップボードにコピー |
| `<C-g>Y` | n,v    | Gitリンク開く   | Gitリンクをブラウザで開く         |

---

## ✂️ テキスト操作

### 囲み操作 (`s` プレフィックス - Mini.surround)

| キー | モード | 機能           | 説明                 |
| ---- | ------ | -------------- | -------------------- |
| `sa` | n,v    | 囲み追加       | 囲み文字を追加       |
| `sd` | n,v    | 囲み削除       | 囲み文字を削除       |
| `sf` | n,v    | 囲み検索       | 囲み文字を検索       |
| `sF` | n,v    | 左囲み検索     | 左囲み文字を検索     |
| `sh` | n,v    | 囲みハイライト | 囲み文字をハイライト |
| `sr` | n,v    | 囲み置換       | 囲み文字を置換       |
| `sn` | n,v    | n行更新        | n行の囲み文字を更新  |

### TreeSJ（結合・分割）

| キー       | モード | 機能               | 説明                     |
| ---------- | ------ | ------------------ | ------------------------ |
| `<space>m` | n      | 結合・分割切り替え | 行の結合・分割を切り替え |
| `<space>j` | n      | 結合               | 行を結合                 |
| `<space>s` | n      | 分割               | 行を分割                 |

### 特殊ナビゲーション

| キー | モード | 機能             | 説明                             |
| ---- | ------ | ---------------- | -------------------------------- |
| `gF` | n,v    | 拡張ファイル移動 | 拡張されたファイルナビゲーション |

---

## 💬 補完機能

### 補完操作（挿入モード）

| キー    | モード | 機能               | 説明                     |
| ------- | ------ | ------------------ | ------------------------ |
| `<C-n>` | i      | 次の補完           | 次の補完項目             |
| `<C-p>` | i      | 前の補完           | 前の補完項目             |
| `<C-k>` | i      | 補完確定           | 補完を確定               |
| `<C-l>` | i      | 手動補完           | 手動補完トリガー         |
| `<A-l>` | i      | フォールバック補完 | フォールバック補完を強制 |
| `<C-e>` | i      | 補完閉じる         | 補完メニューを閉じる     |
| `<CR>`  | i      | スマートエンター   | 補完付きスマートエンター |

---

## 🔄 Go言語専用操作

### Go LSP操作

| キー         | モード | 機能             | 説明                 |
| ------------ | ------ | ---------------- | -------------------- |
| `gd`         | n      | 定義             | 定義位置に移動       |
| `K`          | n      | ホバー           | ホバー情報           |
| `gi`         | n      | 実装             | 実装位置に移動       |
| `<leader>ca` | n      | コードアクション | コードアクション     |
| `<leader>rn` | n      | リネーム         | シンボルリネーム     |
| `gr`         | n      | 参照             | 参照検索             |
| `[d`         | n      | 前の診断         | 前の診断             |
| `]d`         | n      | 次の診断         | 次の診断             |
| `<leader>f`  | n      | フォーマット     | バッファフォーマット |

---

## 🎯 キーヒントシステム

### Mini.clue対応プレフィックス

以下のキーを押すと、300ms後に利用可能な操作がヒント表示されます：

- **`<Leader>`** - リーダーキー操作
- **`<C-x>`** - 組み込み補完
- **`g`** - vim標準g操作
- **`'`** / **`"`** - マーク・レジスタ操作
- **`<C-w>`** - ウィンドウ操作
- **`z`** - vim標準z操作
- **`<C-t>`** - タブ操作
- **`<C-e>`** - LSP・フォーマット操作
- **`<C-g>`** - Git操作（統一プレフィックス）
- **`s`** - 囲み操作
- **`Y`** - ヤンク操作

---

## 📊 設定ファイル構成

### 主要設定ファイル

- **基本キーマップ**: `.vim/lua/keymaps.lua`
- **LSP操作**: `.vim/lua/lsp/keymaps.lua`
- **Git操作**: `.vim/lua/plugins/git.lua`
- **ファイル管理**: `.vim/lua/config/mini-pick.lua`
- **キーヒント**: `.vim/lua/config/mini-clue.lua`
- **補完**: `.vim/lua/config/mini-completion.lua`

### 条件付きキーバインド

- **LSP操作**: LSPクライアントがアタッチされている場合のみ有効
- **Git操作**: 対応プラグインがインストールされている場合のみ有効
- **Go専用**: Go言語ファイルでのみ有効

---

## 🔗 リーダーキー設定

**リーダーキー**: `,`（カンマ）
**設定場所**: `.vim/lua/keymaps.lua`

---

## 📝 更新履歴

### 2025-07-08

- **ファイル検索キーバインド整理**: `<Leader>f*`キーバインドを`<Leader>F*`に変更
- **新規メインファイル検索**: `<Leader>f`をメインファイル検索として追加
- **キーバインド構造統一**: ファイル操作のキーバインド体系を整理

### 2025-07-07

- **Git操作統一**: `<leader>gs`、`<leader>gc`を削除し、`<C-g>`プレフィックスに統一
- **検索機能**: `<leader>g`をgrep検索専用として競合解消
- **Prettier設定**: conform.nvimでフォールバック条件を追加

---

_最終更新: 2025-07-08_
_設定バージョン: Production Ready_
_対応プラグイン: Neovim + Lazy.nvim + Mini.nvim ecosystem_
