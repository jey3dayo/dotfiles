# 知見管理 - Dotfiles層別知識集約コマンド

新しい技術知見をdotfiles層別知識管理システムに基づいて適切なファイルに記録します。

## 使用方法

```bash
/learnings
```

## 実行フロー

1. **知見の層特定** - 新しい知見がどの層（Core/Tools/Support）に関連するか判断
2. **層別ファイル優先更新** - 該当する`.claude/layers/`ファイルに記録、重複回避
3. **横断的知見の判断** - 複数層にまたがる場合は`architecture/`に記録
4. **既存知見との統合** - 既存パターンの強化・更新、段階的詳細化

## 📋 Dotfiles層別構造

### Core Layers（核となる設定層）

- **`shell-layer.md`** - Zsh設定、パフォーマンス最適化、プラグイン管理
- **`git-layer.md`** - Git設定、ワークフロー、認証、他ツール統合

### Tools Layers（ツール固有層）

- **`terminal-layer.md`** - WezTerm、Tmux、Alacritty設定と統合
- **`editor-layer.md`** - Neovim、LSP、AI統合、プラグイン管理

### Support Layers（支援・横断層）

- **`performance-layer.md`** - パフォーマンス測定・最適化・監視
- **`integration-layer.md`** - ツール間統合・ワークフロー・設定同期

### Architecture（アーキテクチャ層）

- **`patterns.md`** - 設計原則・統一パターン・ベストプラクティス

## 🎯 層別分類ガイド

### Core Layers適用条件

- **Shell Layer**: Zsh設定、起動時間、プラグイン、コマンドライン効率化
- **Git Layer**: バージョン管理、認証、ブランチ管理、GitHub連携

### Tools Layers適用条件

- **Terminal Layer**: ターミナルエミュレータ、マルチプレクサ、UI設定
- **Editor Layer**: Neovim、LSP、補完、AI統合、編集効率化

### Support Layers適用条件

- **Performance Layer**: 起動時間、メモリ使用量、ベンチマーク、最適化手法
- **Integration Layer**: ツール間連携、ワークフロー自動化、設定同期

### Architecture適用条件

- 複数層にまたがる設計決定
- dotfiles全体のアーキテクチャ原則
- 統一パターンやベストプラクティス

## ⚠️ 重要な制約・注意事項

### 🎯 層別ファイル優先原則

特定層に関連する知見は**必ず層別ファイル**（`.claude/layers/`）に記録。横断的ファイルでの重複記録は禁止。

### 🔄 クロスリファレンス最小化

複数層で使用される知見は主要層に記録し、他層からは参照のみ。

### 📝 dotfiles特有の記録項目

- **パフォーマンス指標**: 起動時間、メモリ使用量の実測値
- **設定パターン**: 実際に使用している設定テンプレート
- **統合事例**: ツール間連携の成功・失敗パターン
- **環境対応**: macOS/Linux、個人/会社環境での差異

## 📊 実装例・テンプレート

### パフォーマンス改善知見

````markdown
## [改善内容] - [削減時間]ms削減

### 問題・背景

- 起動時間: [改善前]ms → [改善後]ms
- 原因: [具体的なボトルネック]

### 解決策・パターン

```zsh
# 実際の設定コード
[遅延読み込みパターンなど]
```
````

### 適用条件・注意点

- 適用条件: [どの環境で有効か]
- 副作用: [注意すべき点]
- 測定方法: [効果の確認方法]

### 実測値

- 改善効果: [%]削減
- 測定日: 2025-XX-XX

````

### ツール統合知見

```markdown
## [ツール名] → [ツール名] 統合パターン

### 統合内容
[何と何を連携させたか]

### 実装パターン
```zsh/lua
# 実際の設定コード
[統合のための設定]
````

### 効果・改善点

- 操作効率: [%]向上
- 学習コスト: [高/中/低]
- 保守性: [改善点]

### 失敗パターン・注意点

[うまくいかなかった事例]

```

## 🔍 品質チェックリスト

- [ ] 適切な層別ファイルに記録されている
- [ ] 既存知見との重複がない
- [ ] 具体的な実装例・設定コードが含まれている
- [ ] パフォーマンス指標・実測値が記載されている
- [ ] 適用条件・制約が明確に記載されている
- [ ] 失敗パターンや注意点が含まれている

## 🎨 Dotfiles特有の知見カテゴリ

### 起動時間最適化
- 遅延読み込みパターン
- プラグイン整理手法
- 設定ファイル分割戦略

### ツール統合
- キーバインド統一
- テーマ・UI統合
- ワークフロー自動化

### 環境対応
- macOS/Linux差異の吸収
- 個人/会社環境の設定分岐
- ポータビリティ確保

### 保守性向上
- 設定のモジュール化
- 依存関係管理
- バージョン管理戦略

## 🔗 関連コマンド

- **/refactoring** - 設定リファクタリング時の知見記録
- 性能測定コマンド: `zsh-benchmark`, `perf-check`
- 設定検証: `validate-dotfiles`, `sync-check`

---

**注意**:
- 必ず実測値・具体例を含めて記録
- dotfiles環境での実証済み知見のみ記録
- 層別分類に迷った場合は一時的に`architecture/patterns.md`に記録し、後で適切な層に移動
```
