# 🔧 Neovim設定リファクタリング計画

## 📋 概要
この.vimプロジェクトは優秀に整理されたNeovim設定ですが、コード品質向上のための軽微な改善項目があります。

## 🎯 改善項目

### 🔴 高優先度
1. **重複プラグイン定義の削除**
   - [ ] `lua/plugins/input.lua`内の`keaising/im-select.nvim`重複を解決
   - 影響: プラグイン競合の可能性

2. **共通定義の統合**
   - [ ] ファイルタイプ定義配列を共通モジュールに移動
   - [ ] 共通dependency配列の統一
   - 影響: コード重複の削減、保守性向上

### 🟡 中優先度
3. **設定読み込みパターンの統一**
   - [ ] `config = function() require "config/..." end`と`opts = require "config/..."`の使い分け基準明確化
   - 影響: 設定パターンの一貫性向上

4. **プラグイン分類の最適化**
   - [ ] `tool.lua`の細分化検討（git関連とterminal関連の分離）
   - 影響: プラグイン管理の改善

## 📁 対象ファイル

| ファイル | 作業内容 | 状態 |
|---------|---------|------|
| `lua/plugins/input.lua` | 重複プラグイン削除 | ⏳ 未着手 |
| `lua/plugins/lang.lua` | 共通定義抽出 | ⏳ 未着手 |
| `lua/plugins/tool.lua` | プラグイン分類見直し | ⏳ 未着手 |
| `lua/utils/common.lua` | 共通モジュール作成（必要時） | ⏳ 未着手 |

## 📊 現状評価

### ✅ 優秀な点
- **アーキテクチャ**: 明確な機能分離とモジュール構造
- **命名規則**: 一貫性のある命名パターン
- **ディレクトリ構造**: 適切なファイル分類
- **プラグイン管理**: lazy.nvimによる効率的な管理
- **LSP統合**: 包括的な言語サーバー対応

### 🔧 改善点
- 軽微な重複コードの除去
- 設定パターンの統一化
- 共通定義の集約

## 🎯 リファクタリング方針

1. **破壊的変更の回避**: 既存機能に影響しない範囲での改善
2. **段階的改善**: 高優先度から順次対応
3. **テスト重視**: 変更後の動作確認を徹底
4. **ドキュメント更新**: 変更内容の適切な記録

## 🚀 実行手順

1. 現状分析とバックアップ作成
2. 重複プラグイン定義の削除
3. 共通定義の抽出と統合
4. 設定パターンの統一
5. 動作確認とテスト
6. ドキュメント更新

