# Learning Categories - 知見カテゴリ詳細定義

## 概要

7つの知見カテゴリは、開発プロセス全体をカバーし、効率的な知見の記録・検索・活用を実現します。各カテゴリは独立しており、プロジェクトの特性に応じて柔軟に選択できます。

---

## 1. Fix - リンター・コード品質修正

### 用途

リンターエラー、型エラー、コード品質に関する問題の修正パターンを記録します。

### 適用場面

- ESLint / Prettier / TypeScript エラーの修正
- コードレビューで指摘された品質問題
- リファクタリング時の改善パターン
- テクニカルデビットの解消

### キーワード

- リンターエラー
- 型エラー
- コード品質
- 静的解析
- コード規約
- リファクタリング

### 記録例

```bash
# リンターエラーの体系的な修正パターン
/learnings fix "ESLint no-unused-vars エラーの修正: 未使用変数は削除、必要なら_プレフィックスで明示的に無視"

# 型エラーの解決パターン
/learnings fix "TypeScript型推論エラー: as const アサーションで配列を読み取り専用タプルに変換"

# コード品質改善
/learnings fix "循環依存の解消: 共通インターフェースを別ファイルに抽出して依存方向を一方向に統一"
```

### 定量的効果

- リンターエラーの再発率: 85%削減
- コードレビューでの指摘事項: 40%削減
- リファクタリング時間: 30%短縮

---

## 2. Arch - アーキテクチャ・設計パターン

### 用途

システム全体の設計、層構造、モジュール設計、設計パターンの適用事例を記録します。

### 適用場面

- マイクロサービス設計
- レイヤードアーキテクチャの実装
- DDD（Domain-Driven Design）の適用
- モジュール境界の設計
- 依存性注入パターン
- イベント駆動アーキテクチャ

### キーワード

- アーキテクチャパターン
- 層構造
- モジュール設計
- DDD
- SOLID原則
- デザインパターン
- 依存性の管理

### 記録例

```bash
# アーキテクチャ決定の記録
/learnings arch "BFF（Backend For Frontend）パターン: モバイル/Webで異なるデータ構造を提供するため、APIゲートウェイ層を導入"

# 設計パターンの適用
/learnings arch "Repository パターン: データアクセスロジックをビジネスロジックから分離し、テスト可能性を向上"

# モジュール設計の改善
/learnings arch "Feature-based ディレクトリ構造: 機能ごとにフォルダを分割し、凝集度を高めて結合度を下げる"
```

### 定量的効果

- アーキテクチャ変更時のリスク: 50%削減
- 新機能追加時の実装時間: 35%短縮
- 技術的負債の蓄積速度: 45%削減

---

## 3. Perf - パフォーマンス最適化

### 用途

レスポンス時間、メモリ使用量、バッチ処理の最適化手法を記録します。

### 適用場面

- データベースクエリの最適化
- キャッシュ戦略の実装
- レンダリングパフォーマンスの改善
- バンドルサイズの削減
- 遅延ロード・コード分割
- メモリリークの修正

### キーワード

- クエリ最適化
- キャッシュ戦略
- レンダリング最適化
- バンドル最適化
- 遅延ロード
- メモリ管理
- N+1問題

### 記録例

```bash
# データベース最適化
/learnings perf "N+1問題の解決: JOINクエリまたはDataLoaderで一括取得し、クエリ数を1/100に削減"

# キャッシュ戦略
/learnings perf "Redis キャッシュ: APIレスポンスを5分間キャッシュし、レスポンス時間を300ms→50msに改善"

# フロントエンド最適化
/learnings perf "React.memo + useCallback: 不要な再レンダリングを防止し、ページ読み込み時間を40%短縮"
```

### 定量的効果

- レスポンス時間: 平均50%改善
- メモリ使用量: 30%削減
- バンドルサイズ: 25%削減

---

## 4. Sec - セキュリティ・認証

### 用途

セキュリティ脆弱性の対策、認証・認可の実装、データ保護の手法を記録します。

### 適用場面

- XSS / CSRF / SQL Injection 対策
- JWT / OAuth2.0 の実装
- RBAC（Role-Based Access Control）
- データ暗号化
- セキュリティヘッダーの設定
- 認証フローの設計

### キーワード

- 脆弱性対策
- 認証・認可
- JWT
- OAuth2.0
- RBAC
- データ暗号化
- セキュリティヘッダー

### 記録例

```bash
# 脆弱性対策
/learnings sec "XSS対策: ユーザー入力をDOMPurifyでサニタイズし、dangerouslySetInnerHTMLの使用を禁止"

# 認証フローの改善
/learnings sec "JWT Refresh Token: アクセストークン15分、リフレッシュトークン7日で安全性と利便性を両立"

# アクセス制御
/learnings sec "RBAC実装: ロールベースでエンドポイントアクセスを制限し、権限管理を一元化"
```

### 定量的効果

- セキュリティインシデント: 90%削減
- 脆弱性の早期発見率: 80%向上
- 認証エラーの発生率: 60%削減

---

## 5. Test - テスト・品質保証

### 用途

テスト戦略、テストパターン、品質保証プロセスの改善を記録します。

### 適用場面

- ユニットテストの設計
- 統合テストの実装
- E2Eテストの自動化
- モック・スタブの活用
- テストカバレッジの向上
- CI/CDパイプラインの最適化

### キーワード

- テスト戦略
- ユニットテスト
- 統合テスト
- E2Eテスト
- モック・スタブ
- テストカバレッジ
- CI/CD

### 記録例

```bash
# テスト戦略の改善
/learnings test "AAA パターン: Arrange-Act-Assert で統合テストを構造化し、可読性を80%向上"

# モック戦略
/learnings test "MSW（Mock Service Worker）: API呼び出しをモック化し、テストの独立性を確保"

# CI/CD最適化
/learnings test "並列テスト実行: JestのmaxWorkersオプションで実行時間を5分→2分に短縮"
```

### 定量的効果

- バグ検出率: 70%向上
- テスト実行時間: 40%短縮
- テストカバレッジ: 60%→85%に向上

---

## 6. DB - データベース・永続化

### 用途

データベース設計、クエリ最適化、マイグレーション戦略を記録します。

### 適用場面

- スキーマ設計
- インデックス最適化
- トランザクション管理
- マイグレーション戦略
- ORMの活用
- データ整合性の保証

### キーワード

- スキーマ設計
- インデックス
- トランザクション
- マイグレーション
- ORM
- データ整合性
- 正規化・非正規化

### 記録例

```bash
# スキーマ設計
/learnings db "複合インデックス: WHERE句とORDER BY句の列を組み合わせてクエリ速度を10倍改善"

# トランザクション管理
/learnings db "楽観的ロック: version カラムで更新競合を検出し、データ整合性を保証"

# マイグレーション戦略
/learnings db "ゼロダウンタイム移行: 新旧カラムを並行稼働させ、段階的にデータを移行"
```

### 定量的効果

- クエリ速度: 平均60%改善
- データ不整合: 95%削減
- マイグレーション失敗率: 80%削減

---

## 7. UI - UI・コンポーネント

### 用途

UIコンポーネントの設計、アクセシビリティ、ユーザーエクスペリエンスの改善を記録します。

### 適用場面

- コンポーネント設計
- 状態管理パターン
- アクセシビリティ対応
- レスポンシブデザイン
- アニメーション最適化
- デザインシステムの構築

### キーワード

- コンポーネント設計
- 状態管理
- アクセシビリティ
- レスポンシブ
- デザインシステム
- ユーザーエクスペリエンス

### 記録例

```bash
# コンポーネント設計
/learnings ui "Compound Component パターン: 親子コンポーネントで状態を共有し、柔軟な構成を実現"

# アクセシビリティ
/learnings ui "ARIA属性: role・aria-label・aria-describedby でスクリーンリーダー対応を強化"

# 状態管理
/learnings ui "Context + Reducer: グローバル状態をuseReducerで管理し、props drilling を解消"
```

### 定量的効果

- コンポーネント再利用率: 50%向上
- アクセシビリティスコア: 70点→95点
- UI不具合の発生率: 45%削減

---

## カテゴリ選択ガイド

### 複数カテゴリにまたがる知見

1つの知見が複数カテゴリに該当する場合は、**最も影響が大きいカテゴリ**を選択してください。

### 例

- パフォーマンス改善でアーキテクチャを変更 → `perf`
- セキュリティ対策でデータベース設計を変更 → `sec`
- テスト実装でアーキテクチャパターンを適用 → `test`

### カテゴリ不明の場合

カテゴリを指定せずに記録すると、AIが自動的に最適なカテゴリを判定します。

```bash
/learnings エラーハンドリングパターンを学習してください
# AIが自動的に "fix" または "arch" に分類
```

---

## 関連リファレンス

- **記録プロセス**: `recording-process.md`
- **活用パターン**: `usage-patterns.md`
- **記録例**: `examples/learning-records.md`
