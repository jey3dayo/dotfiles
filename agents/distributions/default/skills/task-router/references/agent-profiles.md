# Agent Profiles - エージェント詳細プロファイル

このドキュメントは、task-routerで使用可能な全エージェントの詳細なプロファイルを提供します。

## エージェント能力マトリックス

### 1. error-fixer

### プロファイル

- **主要能力**: エラー修正、型安全性、コード品質
- **品質スコア**: ⭐⭐⭐⭐⭐ (95/100)
- **速度スコア**: ⚡⚡⚡⚡ (85/100)
- **最適用途**: 型エラー、lint修正、コンパイルエラー解決

### 能力詳細

| 能力     | スコア | 説明                                |
| -------- | ------ | ----------------------------------- |
| error    | 0.95   | エラー修正に特化、3層修正戦略を持つ |
| fix      | 0.90   | バグ修正全般に対応                  |
| refactor | 0.75   | コード品質改善も可能                |
| analyze  | 0.70   | エラー原因分析が得意                |

### 得意なシナリオ

- TypeScript型エラーの修正
- ESLintエラーの自動修正
- 型安全性の向上
- any型の排除
- コンパイルエラーの解決

### 使用例

```bash
/task "TypeScript型エラーを修正"
/task "ESLintエラーを全部修正して"
/task "any型を排除して型安全にして"
```

### 2. orchestrator

### プロファイル

- **主要能力**: 実装、リファクタリング、タスク分解
- **品質スコア**: ⭐⭐⭐⭐⭐ (98/100)
- **速度スコア**: ⚡⚡⚡ (70/100)
- **最適用途**: 新機能実装、大規模変更、アーキテクチャ設計

### 能力詳細

| 能力      | スコア | 説明                         |
| --------- | ------ | ---------------------------- |
| implement | 0.95   | 新機能実装に最も適している   |
| refactor  | 0.90   | 大規模リファクタリングが得意 |
| analyze   | 0.85   | アーキテクチャ分析が可能     |
| fix       | 0.75   | 複雑なバグ修正も対応         |

### 得意なシナリオ

- 新機能の実装
- APIエンドポイントの追加
- データベーススキーマの設計
- 大規模リファクタリング
- Clean Architectureの実装
- マイクロサービスの構築

### 使用例

```bash
/task "ユーザー認証機能を実装"
/task "REST APIエンドポイントを追加"
/task "Clean Architectureでリファクタリング"
```

### 3. code-reviewer

### プロファイル

- **主要能力**: コードレビュー、品質評価、セキュリティ
- **品質スコア**: ⭐⭐⭐⭐⭐ (96/100)
- **速度スコア**: ⚡⚡⚡⚡ (80/100)
- **最適用途**: コード品質チェック、セキュリティレビュー、ベストプラクティス検証

### 能力詳細

| 能力     | スコア | 説明                 |
| -------- | ------ | -------------------- |
| review   | 0.98   | コードレビューに特化 |
| analyze  | 0.90   | 深い分析が可能       |
| fix      | 0.80   | 問題の自動修正も可能 |
| refactor | 0.75   | 改善提案を提供       |

### 得意なシナリオ

- コード品質レビュー
- セキュリティ脆弱性の検出
- パフォーマンス問題の特定
- ベストプラクティスの検証
- OWASP Top 10チェック
- 技術的負債の分析

### 使用例

```bash
/task "このコードをレビューして"
/task "セキュリティ脆弱性をチェック"
/task "パフォーマンス問題を見つけて"
```

### 4. researcher

### プロファイル

- **主要能力**: 調査、分析、問題究明
- **品質スコア**: ⭐⭐⭐⭐⭐ (94/100)
- **速度スコア**: ⚡⚡⚡ (75/100)
- **最適用途**: 技術調査、問題原因分析、ライブラリ選定

### 能力詳細

| 能力      | スコア | 説明                 |
| --------- | ------ | -------------------- |
| analyze   | 0.95   | 深い技術分析が得意   |
| implement | 0.80   | 調査結果を実装に反映 |
| review    | 0.75   | 技術的評価が可能     |
| fix       | 0.70   | 問題解決策を提案     |

### 得意なシナリオ

- 技術スタックの調査
- ライブラリの比較検討
- エラー原因の深掘り
- アーキテクチャパターンの調査
- ベストプラクティスのリサーチ
- パフォーマンス問題の根本原因分析

### 使用例

```bash
/task "なぜこのエラーが発生するか調査"
/task "React状態管理ライブラリを比較して"
/task "このパフォーマンス問題の原因を究明"
```

### 5. github-pr-reviewer

### プロファイル

- **主要能力**: GitHub PRレビュー専門
- **品質スコア**: ⭐⭐⭐⭐⭐ (97/100)
- **速度スコア**: ⚡⚡⚡⚡ (85/100)
- **最適用途**: GitHub Pull Request専門レビュー

### 能力詳細

| 能力      | スコア | 説明                     |
| --------- | ------ | ------------------------ |
| github_pr | 1.00   | GitHub PR専門に最適化    |
| review    | 0.95   | コードレビュー全般も得意 |
| analyze   | 0.85   | 変更の影響分析が可能     |
| fix       | 0.75   | レビューコメント自動修正 |

### 得意なシナリオ

- GitHub PRレビュー
- PRコメントの自動修正
- CI/CDチェックの検証
- マージ前の最終確認
- ブランチ差分の分析
- コミットメッセージの検証

### 使用例

```bash
/task "origin/developでレビューして"
/task "PRをレビューして修正して"
/task "最新のコミットをレビュー"
```

### 6. docs-manager

### プロファイル

- **主要能力**: ドキュメント管理、リンク検証
- **品質スコア**: ⭐⭐⭐⭐ (88/100)
- **速度スコア**: ⚡⚡⚡⚡⚡ (95/100)
- **最適用途**: ドキュメント更新、リンク検証、README管理

### 能力詳細

| 能力     | スコア | 説明                     |
| -------- | ------ | ------------------------ |
| docs     | 0.98   | ドキュメント管理に特化   |
| fix      | 0.80   | リンク切れ自動修正       |
| review   | 0.70   | ドキュメント品質チェック |
| refactor | 0.65   | ドキュメント構造改善     |

### 得意なシナリオ

- ドキュメントリンクの検証
- README.mdの更新
- APIドキュメントの生成
- ドキュメント構造の整理
- リンク切れの自動修正
- ドキュメントメタデータ管理

### 使用例

```bash
/task "ドキュメントのリンクを検証して"
/task "README.mdを更新"
/task "APIドキュメントを生成"
```

### 7. serena

### プロファイル

- **主要能力**: セマンティック分析、シンボル検索
- **品質スコア**: ⭐⭐⭐⭐⭐ (96/100)
- **速度スコア**: ⚡⚡⚡⚡⚡ (90/100)
- **最適用途**: シンボル検索、影響分析、依存関係追跡

### 能力詳細

| 能力     | スコア | 説明                       |
| -------- | ------ | -------------------------- |
| navigate | 1.00   | コードナビゲーションに最適 |
| analyze  | 0.90   | セマンティック分析が得意   |
| refactor | 0.85   | シンボルリネーム、影響分析 |
| review   | 0.75   | アーキテクチャレビュー     |

### 得意なシナリオ

- シンボル検索 (クラス、メソッド、インターフェース)
- 依存関係の追跡
- 影響範囲の分析
- シンボルのリネーム
- API契約の分析
- アーキテクチャ可視化

### 使用例

```bash
/task "AuthServiceインターフェースの全ての実装を見つけて"
/task "getUserByIdメソッドを呼び出している場所を全て探して"
/task "UserRepositoryクラスをリネームして全参照を更新"
```

## エージェント選択フローチャート

```
Task Intent Analysis
    ↓
┌─────────────────────────────────────┐
│ Intent Type Detection               │
├─────────────────────────────────────┤
│ "エラー", "修正", "fix"             │──→ error-fixer
│ "実装", "作成", "追加"              │──→ orchestrator
│ "レビュー", "確認"                  │──→ code-reviewer
│ "調査", "分析", "なぜ"              │──→ researcher
│ "PR", "pull request"                │──→ github-pr-reviewer
│ "ドキュメント", "README"            │──→ docs-manager
│ "探す", "見つける", "検索"          │──→ serena
└─────────────────────────────────────┘
    ↓
Confidence Score Calculation
    ↓
Context7 Adjustment (±10%)
    ↓
Final Agent Selection
```

## エージェント選択の優先順位

### 高確信度 (≥ 0.85)

確信度が85%以上の場合、単一エージェントで直接実行します。

### 選択基準

- キーワードマッチが明確
- タスクの複雑度が低い
- プロジェクトコンテキストと一致

### 中確信度 (0.60 - 0.84)

確信度が中程度の場合、ユーザーに確認を求めるか、副次的意図も考慮します。

### 選択基準

- 複数の意図が混在
- タスクの範囲が広い
- プロジェクト固有の判断が必要

### 低確信度 (< 0.60)

確信度が低い場合、タスクの詳細化を促すか、researcherで調査を開始します。

### 選択基準

- キーワードマッチが不明確
- タスクの定義が曖昧
- 新しいパターンのタスク

## エージェント連携パターン

### シーケンシャル連携

複数のエージェントを順次実行するパターン。

```
orchestrator (実装)
    ↓
code-reviewer (レビュー)
    ↓
error-fixer (修正)
```

### 使用例

```bash
/task "新機能を実装してレビューして修正まで完了させて"
```

### パラレル連携

複数のエージェントを並行実行するパターン。

```
┌─→ code-reviewer (コード品質)
│
├─→ docs-manager (ドキュメント)
│
└─→ error-fixer (型チェック)
```

### 使用例

```bash
/task "コード品質、ドキュメント、型安全性を全てチェック"
```

### 条件付き連携

条件に応じてエージェントを切り替えるパターン。

```
researcher (調査)
    ↓
[条件判定]
    ├─ 実装が必要 → orchestrator
    ├─ 修正が必要 → error-fixer
    └─ 分析のみ → code-reviewer
```

### 使用例

```bash
/task "パフォーマンス問題を調査して必要なら改善実装"
```

## エージェント能力スコア計算式

```python
def calculate_agent_score(agent, task_intents):
    """エージェントスコアを計算"""

    base_score = 0.0

    # 意図スコアとエージェント能力の照合
    for intent_type, intent_score in task_intents.items():
        if intent_type in agent.capabilities:
            capability_score = agent.capabilities[intent_type]
            base_score += intent_score * capability_score

    # 正規化
    normalized_score = base_score / len(task_intents)

    # プロジェクトタイプ調整
    project_bonus = calculate_project_bonus(agent, project_type)
    adjusted_score = normalized_score * (1 + project_bonus)

    # Context7調整
    if has_documentation():
        adjusted_score *= 1.1

    return min(adjusted_score, 1.0)
```

## パフォーマンス比較

### 実行時間比較 (平均)

| エージェント       | 単純タスク | 中程度 | 複雑タスク |
| ------------------ | ---------- | ------ | ---------- |
| error-fixer        | 2分        | 8分    | 20分       |
| orchestrator       | 5分        | 15分   | 45分       |
| code-reviewer      | 3分        | 10分   | 25分       |
| researcher         | 4分        | 12分   | 35分       |
| github-pr-reviewer | 3分        | 9分    | 22分       |
| docs-manager       | 1分        | 4分    | 10分       |
| serena             | 1分        | 5分    | 15分       |

### 品質スコア比較 (平均)

| エージェント       | コード品質 | セキュリティ | 保守性 |
| ------------------ | ---------- | ------------ | ------ |
| error-fixer        | 95         | 85           | 90     |
| orchestrator       | 98         | 90           | 95     |
| code-reviewer      | 96         | 95           | 92     |
| researcher         | 94         | 88           | 90     |
| github-pr-reviewer | 97         | 92           | 93     |
| docs-manager       | 88         | 80           | 95     |
| serena             | 96         | 85           | 94     |

## エージェント選択の推奨事項

### 1. 単純で明確なタスク

### 推奨

```bash
/task "TypeScript型エラーを修正"  # error-fixer
/task "ドキュメントリンクを検証"  # docs-manager
```

### 2. 複雑で多面的なタスク

### 推奨

```bash
/task "新機能を実装してテストとドキュメントも完成させて"
# orchestrator → code-reviewer → docs-manager
```

### 3. 調査から始まるタスク

### 推奨

```bash
/task "なぜこのエラーが発生するか調査して修正"
# researcher → error-fixer
```

### 4. 品質保証重視のタスク

### 推奨

```bash
/task "セキュリティとパフォーマンスを徹底的にレビュー"
# code-reviewer (security focus) + code-reviewer (performance focus)
```

## 関連リソース

- [エージェント選択アルゴリズム](agent-selection-logic.md)
- [agents-onlyスキル](../../agents-only/SKILL.md)
- [処理アーキテクチャ詳細](processing-architecture.md)
