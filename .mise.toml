# ========================================
# プロジェクト固有の mise 設定はここに追加
# グローバルなタスク/設定は mise/config.toml に集約
# depends を含むタスクはプロジェクトごとに調整したいためこちらに配置
# ========================================

# ========================================
# 集約タスク（プロジェクト固有）
# ========================================

[tasks.format]
description = "コードとドキュメントの自動フォーマット"
depends = [
  "format:biome",
  "format:markdown",
  "format:yaml",
  "format:lua",
  "format:shell",
]

[tasks.lint]
description = "全体の品質チェック（GitHub Actions互換）- 並列実行"
depends = [
  "lint:biome",
  "lint:markdown",
  "lint:yaml",
  "lint:lua",
  "lint:shell",
]

[tasks."lint:lua"]
description = "Lua ファイルをチェック"
depends = ["lint:lua:stylua", "lint:lua:luacheck"]

[tasks.update]
description = "すべての依存関係を更新"
depends = ["update:submodules", "update:brew", "update:external-repos"]

[tasks.ci]
description = "すべての CI チェックをローカル実行（GitHub Actions と同じ）"
depends = ["lint", "lint:links"]

[tasks.check]
description = "全フォーマットチェック（書き込みなし、CI向け）- 並列実行"
depends = [
  "format:biome:check",
  "format:markdown:check",
  "format:yaml:check",
  "format:lua:check",
  "format:shell:check",
]

[tasks."docs"]
description = "ドキュメント全体の検証（lint + リンク + YAML）"
depends = ["docs:lint", "docs:links", "docs:yaml:lint"]

[tasks."docs:all"]
description = "ドキュメントの完全な検証とフォーマット"
depends = ["docs:fix", "docs:links", "docs:yaml:lint"]
