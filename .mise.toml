# ========================================
# ~/.config 配下のみで有効にする mise タスク
# プロジェクト固有の集約・mac依存タスクをここで定義
# ========================================

# タスク定義を mise/tasks/ から読み込み
[task_config]
includes = [
  ".config/mise/tasks/format.toml",
  ".config/mise/tasks/lint.toml",
  ".config/mise/tasks/test.toml",
  ".config/mise/tasks/integration.toml",
  ".config/mise/tasks/skills.toml",
  ".config/mise/tasks/env.toml",
  ".config/mise/tasks/brewfile.toml",
  ".config/mise/tasks/updates.toml",
  ".config/mise/tasks/home-manager.toml",
  ".config/mise/tasks/ci.toml",
  ".config/mise/tasks/docs.toml",
]

# ========================================
# Markdown config
# ========================================

[env]
MARKDOWN_LINK_CONFIG = ".markdown-link-check.json"

[hooks]
# Decrypt .env to .env.local on directory enter (silent on success, show critical errors)
enter = 'mise run setup-env 2>&1 | grep -E "^(❌|Error:)" || true'
