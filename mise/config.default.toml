# ========================================
# デフォルト mise 設定（Mac/Linux/WSL2 共通）
# ~/.config/mise/config.default.toml
# ========================================
# この設定ファイルは以下の環境で使用されます:
# - macOS (Darwin)
# - Linux (default)
# - WSL2 (Ubuntu on Windows)
#
# Raspberry Pi は config.pi.toml を使用します。
# ========================================

[settings]
env_file = '.env.local'
experimental = true
jobs = 8                                                                         # デフォルトの並列実行数
vfox = false
idiomatic_version_file_enable_tools = ["go"]
trusted_config_paths = ["~/.config", "~/src/github.com", "/private/var/folders"]

[settings.pipx]
uvx = true

# ========================================
# オプション環境変数（ファイル限定処理）
# ========================================
# フォーマット/lint タスクで特定ファイルのみ処理する場合に設定
# 例: SH_FILES="script1.sh script2.sh" mise run format:shell
#
# SH_FILES = ""      # シェルスクリプト
# PY_FILES = ""      # Python ファイル
# LUA_FILES = ""     # Lua ファイル
# TOML_FILES = ""    # TOML ファイル
# BIOME_FILES = ""   # JS/TS/JSON ファイル (biome)
# PRETTIER_FILES = "" # Prettier 対象ファイル
# YAML_FILES = ""    # YAML ファイル

# ========================================
# ツール定義 (Tools)
# ========================================
# mise で管理する全ツールを定義

[tools]
# ========================================
# Language Runtimes (言語ランタイム - 開発用)
# ========================================
# 注: システム依存関係用の Node.js/Python は Homebrew で管理
deno = "latest"
go = "1.25.5"
node = "lts"
python = "3.14"
rust = "stable" # rustfmt (nvim conform) and cargo:* tool installs
# FIXME: Temporarily disabled due to luarocks 3.13.0 rockspec parsing issues in CI
# lua = "5.1.5"
# luajit = "latest"

# ========================================
# Package Managers (パッケージマネージャー)
# ========================================
"pipx:uv" = "latest"
bun = "latest"

# ========================================
# Formatters and Linters (フォーマッター・Linter)
# ========================================
actionlint = "latest"
biome = "latest"
hadolint = "latest"
prettier = "latest"
ruff = "latest"
shellcheck = "latest"
shfmt = "latest"
stylua = "latest"
taplo = "latest"
yamllint = "latest"
"pipx:beautysh" = "latest"

# ========================================
# NPM Global Packages (Node.js グローバルパッケージ)
# ========================================

# ユーティリティ・ツール
"npm:@antfu/ni" = "latest"
"npm:corepack" = "latest"
"npm:yarn" = "latest"
"npm:husky" = "latest"
"npm:npm" = "latest"
"npm:npm-check-updates" = "latest"
"npm:agent-browser" = "latest"

# 開発・エディタ
"npm:@fsouza/prettierd" = "latest"
"npm:neovim" = "latest"

# プロトコルバッファ・RPC
"npm:@bufbuild/protoc-gen-es" = "latest"
"npm:@connectrpc/protoc-gen-connect-es" = "latest"

# AI・コミット支援
"npm:@openai/codex" = "latest"
"npm:aicommits" = "latest"
"npm:clawdbot" = "latest"
"npm:vibe-kanban" = "latest"

# ドキュメント・Lint
"npm:markdown-link-check" = "latest"
"npm:markdownlint-cli2" = "latest"
"npm:textlint" = "latest"
"npm:textlint-rule-preset-ja-technical-writing" = "latest"

# 環境変数管理
"npm:@dotenvx/dotenvx" = "latest"

# 開発ツール・Language Servers
"npm:eslint_d" = "latest"
"npm:typescript" = "latest"
"npm:tsx" = "latest"
"npm:typescript-language-server" = "latest"
"npm:vscode-json-languageserver" = "latest"
"npm:vscode-langservers-extracted" = "latest"
"npm:@typescript-eslint/eslint-plugin" = "latest"

# ビルドツール
"npm:esbuild" = "latest"

# ユーティリティ
"npm:zx" = "latest"

# MCP サーバー (Model Context Protocol)
"npm:@aikidosec/safe-chain" = "latest"
"npm:@benborla29/mcp-server-mysql" = "latest"
"npm:@modelcontextprotocol/server-filesystem" = "latest"
"npm:@playwright/mcp" = "latest"
"npm:@upstash/context7-mcp" = "latest"
"npm:chrome-devtools-mcp" = "latest"
"npm:exa-mcp-server" = "latest"
"npm:o3-search-mcp" = "latest"

# Claude/AI ツール
"npm:@anthropic-ai/dxt" = "latest"
"npm:@sasazame/ccresume" = "latest"
"npm:ccusage" = "latest"
"npm:dev3000" = "latest"
"npm:openclaw" = "latest"

# クラウド・インフラ
"npm:aws-cdk" = "latest"
"npm:@google/clasp" = "latest"
"npm:@google/gemini-cli" = "latest"

# その他ツール
"npm:greptile" = "latest"
"npm:difit" = "latest"
"npm:tuyapi" = "latest"

# ========================================
# Cargo-based Tools (Rust CLI ユーティリティ)
# ========================================
# 注: typos-lsp は Homebrew で管理
# バージョン固定: DNS解決の一時的な障害回避のため (2026-02-17)
"cargo:bandwhich" = "latest"
"cargo:needle-cli" = "0.14.1"
"cargo:similarity-css" = "0.4.1"
"cargo:similarity-ts" = "0.4.1"
"cargo:wrkflw" = "0.7.3"
"cargo:starship" = "latest"

# ========================================
# CLI Tools (コマンドラインユーティリティ)
# ========================================
aws-cli = "latest"
bat = "latest"
buf = "latest"
eza = "latest"
fd = "latest"
fzf = "latest"
"go:github.com/fujiwara/lambroll/cmd/lambroll" = "latest"
"go:github.com/golangci/golangci-lint/cmd/golangci-lint" = "latest"
"go:github.com/google/wire/cmd/wire" = "latest"
"go:github.com/k1LoW/git-wt" = "latest"
"go:golang.org/x/tools/cmd/goimports" = "latest"
"github:cli/cli" = "latest"
hexyl = "latest"
jq = "latest"
lazygit = "latest"
"aqua:anomalyco/opencode" = "latest"
ripgrep = "latest"
saml2aws = "latest"
terraform = "latest"
tree-sitter = "latest"
trivy = "latest"
usage = "latest"
yazi = "latest"
zoxide = "latest"
"pipx:pre-commit" = "latest"

# ========================================
# タスク設定 (Task Configuration)
# ========================================
# タスク定義は mise/tasks/ ディレクトリに分割されています。
# .mise.toml の [task_config] セクションで読み込まれます。
