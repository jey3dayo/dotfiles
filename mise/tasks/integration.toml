# ========================================
# çµ±åˆã‚¿ã‚¹ã‚¯ï¼ˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»è¨ºæ–­ãƒ»ä¸€æ‹¬å®Ÿè¡Œï¼‰
# ========================================
# è¤‡æ•°ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’çµ„ã¿åˆã‚ã›ãŸçµ±åˆã‚¿ã‚¹ã‚¯

[setup]
description = "åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—: ãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ä¾å­˜é–¢ä¿‚ã®ç¢ºèª"
run = """
echo "ğŸ“¦ Installing mise tools..."
mise install

echo ""
echo "ğŸ Installing Python packages for Neovim..."
PYTHON_PATH=$(mise where python)/bin/python3
$PYTHON_PATH -m pip install --quiet pynvim

echo ""
echo "ğŸ” Verifying critical tools..."
command -v biome >/dev/null || echo "âš ï¸  biome not found"
command -v prettier >/dev/null || echo "âš ï¸  prettier not found"
command -v stylua >/dev/null || echo "âš ï¸  stylua not found"
command -v shfmt >/dev/null || echo "âš ï¸  shfmt not found"
command -v shellcheck >/dev/null || echo "âš ï¸  shellcheck not found"
command -v taplo >/dev/null || echo "âš ï¸  taplo not found"
command -v yamllint >/dev/null || echo "âš ï¸  yamllint not found"
command -v markdownlint-cli2 >/dev/null || echo "âš ï¸  markdownlint-cli2 not found"
command -v uvx >/dev/null || echo "âš ï¸  uv not found"
$PYTHON_PATH -c "import pynvim; print('âœ“ pynvim:', pynvim.__version__)" || echo "âš ï¸  pynvim not found"

echo ""
echo "âœ… Setup complete. Run 'mise tasks' to see available tasks."
"""

[doctor]
description = "ç’°å¢ƒè¨ºæ–­: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ„ãƒ¼ãƒ«ã¨è¨­å®šã‚’ç¢ºèª"
run = """
echo "=== Mise Configuration ==="
mise doctor

echo ""
echo "=== Installed Tools ==="
mise ls

echo ""
echo "=== Available Tasks ==="
mise tasks | head -20
echo "... (run 'mise tasks' to see all)"
"""

[format]
description = "ã‚³ãƒ¼ãƒ‰ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"
depends = [
  "format:biome",
  "format:prettier",
  "format:markdown",
  "format:yaml",
  "format:lua",
  "format:shell",
  "format:toml",
  "format:python",
]

[lint]
description = "å…¨ä½“ã®å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆGitHub Actionsäº’æ›ï¼‰- ä¸¦åˆ—å®Ÿè¡Œ"
depends = [
  "lint:biome",
  "lint:markdown",
  "lint:yaml",
  "lint:lua",
  "lint:shell",
  "lint:toml",
  "lint:python",
]

[check]
description = "å…¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯ï¼ˆæ›¸ãè¾¼ã¿ãªã—ã€CIå‘ã‘ï¼‰- ä¸¦åˆ—å®Ÿè¡Œ"
depends = [
  "format:biome:check",
  "format:prettier:check",
  "format:markdown:check",
  "format:yaml:check",
  "format:lua:check",
  "format:shell:check",
  "format:toml:check",
  "format:python:check",
  "lint",
]
